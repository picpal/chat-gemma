# ChatGemma - Gemma 3n ê¸°ë°˜ ì˜¤í”„ë¼ì¸ ì±„íŒ… ì„œë¹„ìŠ¤

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

Claude UIë¥¼ ë²¤ì¹˜ë§ˆí‚¹í•œ ì˜¤í”„ë¼ì¸ í™˜ê²½ ì±„íŒ… ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. Googleì˜ ìµœì‹  Gemma 3n ëª¨ë¸ì„ í™œìš©í•˜ì—¬ í…ìŠ¤íŠ¸ì™€ ì´ë¯¸ì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìœ¼ë©°, íì‡„ë§ í™˜ê²½ì—ì„œë„ ì™„ë²½í•˜ê²Œ ë™ì‘í•©ë‹ˆë‹¤.

### í•µì‹¬ íŠ¹ì§•
- ğŸ¤– **Gemma 3n ëª¨ë¸**: ë””ë°”ì´ìŠ¤ ìµœì í™”ëœ ìµœì‹  AI ëª¨ë¸
- ğŸ”’ **ì™„ì „ ì˜¤í”„ë¼ì¸**: ì¸í„°ë„· ì—°ê²° ì—†ì´ ë™ì‘
- ğŸ–¼ï¸ **ë©€í‹°ëª¨ë‹¬**: í…ìŠ¤íŠ¸ + ì´ë¯¸ì§€ ì…ë ¥ ì§€ì›
- ğŸ‘¥ **ê´€ë¦¬ì ìŠ¹ì¸**: íšŒì›ê°€ì… ì‹œ ê´€ë¦¬ì ìŠ¹ì¸ í•„ìš”
- ğŸ“Š **ë³´ì•ˆ ê°ì‚¬**: ëª¨ë“  í™œë™ ë¡œê¹…
- ğŸ’¬ **ì‹¤ì‹œê°„ ì±„íŒ…**: WebSocket ê¸°ë°˜ ìŠ¤íŠ¸ë¦¬ë°

## ğŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Chat UI     â”‚  â”‚ Admin Panel â”‚  â”‚ Auth Components         â”‚  â”‚
â”‚  â”‚ (Claude ìŠ¤íƒ€ì¼)â”‚  â”‚             â”‚  â”‚ (Login/Signup)          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• HTTP + WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Backend (Spring Boot)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ REST API    â”‚  â”‚ WebSocket   â”‚  â”‚ Security & Audit        â”‚  â”‚
â”‚  â”‚ Controllers â”‚  â”‚ Handlers    â”‚  â”‚ (Session Auth + Logs)   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• JPA
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Database (H2 Dev / Oracle 19c Prod)                 â”‚
â”‚     Users | Chats | Messages | AuditLogs | Approvals          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• HTTP API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      AI Model (Ollama)                         â”‚
â”‚          Gemma 3n E4B (8B params, 4B effective)               â”‚
â”‚              Text + Image â†’ AI Response                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
chatGemma/
â”œâ”€â”€ CLAUDE.md                 # ğŸ“– ì´ íŒŒì¼ (ì „ì²´ ê°€ì´ë“œ)
â”œâ”€â”€ docker-compose.yml        # ğŸ³ ì „ì²´ ì„œë¹„ìŠ¤ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
â”œâ”€â”€ .env                      # ğŸ”§ í™˜ê²½ ë³€ìˆ˜
â”œâ”€â”€ scripts/                  # ğŸ“œ ë°°í¬/ê´€ë¦¬ ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ setup.sh             # ì´ˆê¸° ì„¤ì •
â”‚   â”œâ”€â”€ build-all.sh         # ì „ì²´ ë¹Œë“œ
â”‚   â””â”€â”€ deploy-offline.sh    # ì˜¤í”„ë¼ì¸ ë°°í¬
â”œâ”€â”€ backend/                  # â˜• Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ CLAUDE.md            # Backend ìƒì„¸ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”œâ”€â”€ src/test/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ frontend/                 # âš›ï¸ React ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ CLAUDE.md            # Frontend ìƒì„¸ ê°€ì´ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â””â”€â”€ ai-model/                 # ğŸ¤– Gemma 3n í†µí•©
    â”œâ”€â”€ CLAUDE.md            # AI Model ìƒì„¸ ê°€ì´ë“œ
    â”œâ”€â”€ ollama/
    â”œâ”€â”€ docker-compose.yml
    â””â”€â”€ scripts/
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì¤€ë¹„

```bash
# í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´ í™•ì¸
docker --version        # Docker 20.0+
docker-compose --version # Docker Compose 2.0+
java --version          # Java 17+
node --version          # Node.js 18+
```

### 2. ì´ˆê¸° ì„¤ì •

```bash
# í”„ë¡œì íŠ¸ í´ë¡  (í˜„ì¬ ë””ë ‰í† ë¦¬ì—ì„œ)
git clone . # ì´ë¯¸ í˜„ì¬ ë””ë ‰í† ë¦¬ì— ìˆìŒ

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘ (DB íŒ¨ìŠ¤ì›Œë“œ ë“±)

# ì´ˆê¸° ì„¤ì • ì‹¤í–‰
chmod +x scripts/setup.sh
./scripts/setup.sh
```

### 3. ê°œë°œ í™˜ê²½ ì‹¤í–‰

```bash
# AI ëª¨ë¸ ë¨¼ì € ì‹œì‘ (ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¼)
cd ai-model
docker-compose up -d

# ë°±ì—”ë“œ ì‹¤í–‰ (ë³„ë„ í„°ë¯¸ë„)
cd backend
./mvnw spring-boot:run -Dspring.profiles.active=dev

# í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰ (ë³„ë„ í„°ë¯¸ë„)
cd frontend
npm install
npm run dev
```

### 4. ì ‘ì† í™•ì¸

- **Frontend**: http://localhost:3000
- **Backend API**: http://localhost:8080
- **Ollama API**: http://localhost:11434
- **H2 Console**: http://localhost:8080/h2-console

## ğŸ› ï¸ ê°œë°œ ê°€ì´ë“œ

### TDD ê°œë°œ íë¦„

1. **í…ŒìŠ¤íŠ¸ ì‘ì„±** (Red)
2. **ìµœì†Œ êµ¬í˜„** (Green)
3. **ë¦¬íŒ©í† ë§** (Refactor)
4. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë° ì»¤ë²„ë¦¬ì§€ í™•ì¸**

```bash
# ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸
cd backend
./mvnw test
./mvnw jacoco:report

# í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
cd frontend
npm run test
npm run test:coverage
```

### ì»´í¬ë„ŒíŠ¸ë³„ ê°œë°œ ê°€ì´ë“œ

- **Backend**: [backend/CLAUDE.md](./backend/CLAUDE.md)
- **Frontend**: [frontend/CLAUDE.md](./frontend/CLAUDE.md)
- **AI Model**: [ai-model/CLAUDE.md](./ai-model/CLAUDE.md)

## ğŸ” ë³´ì•ˆ ìš”êµ¬ì‚¬í•­

### ì¸ì¦/ì¸ê°€ í”Œë¡œìš°

```
1. ì‚¬ìš©ì íšŒì›ê°€ì…
   â””â”€â”€ status: PENDING

2. ê´€ë¦¬ì ë¡œê·¸ì¸
   â””â”€â”€ ìŠ¹ì¸ ëŒ€ê¸° ëª©ë¡ ì¡°íšŒ

3. ê´€ë¦¬ì ìŠ¹ì¸/ê±°ë¶€
   â””â”€â”€ status: APPROVED/REJECTED

4. ìŠ¹ì¸ëœ ì‚¬ìš©ìë§Œ ë¡œê·¸ì¸ ê°€ëŠ¥
   â””â”€â”€ ì„¸ì…˜ ìƒì„±

5. ëª¨ë“  í™œë™ AuditLogì— ê¸°ë¡
   â””â”€â”€ IP, UserAgent, Action, Timestamp
```

### ë³´ì•ˆ ì„¤ì • ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ í™œì„±í™”
- [ ] CSRF ë³´í˜¸ ì„¤ì •
- [ ] íŒŒì¼ ì—…ë¡œë“œ ì œí•œ (í¬ê¸°, í˜•ì‹)
- [ ] SQL Injection ë°©ì§€ (JPA ì‚¬ìš©)
- [ ] XSS ë°©ì§€ (ì…ë ¥ê°’ ê²€ì¦)
- [ ] ê°ì‚¬ ë¡œê·¸ ëª¨ë“  APIì— ì ìš©

## ğŸš¢ ë°°í¬ ê°€ì´ë“œ

### ê°œë°œ í™˜ê²½ â†’ ìš´ì˜ í™˜ê²½

```bash
# 1. ì˜¤í”„ë¼ì¸ íŒ¨í‚¤ì§€ ì¤€ë¹„
./scripts/build-all.sh

# 2. ë°°í¬ íŒ¨í‚¤ì§€ ìƒì„±
./scripts/package-offline.sh

# 3. íì‡„ë§ ì„œë²„ì—ì„œ ë°°í¬
tar -xzf chatgemma-offline.tar.gz
cd chatgemma
./deploy-offline.sh
```

### Docker Compose (ìš´ì˜)

```yaml
# docker-compose.prod.yml
version: '3.8'

services:
  # AI ëª¨ë¸
  ollama:
    image: chatgemma/ollama:latest
    deploy:
      resources:
        limits:
          memory: 16G
    networks: [gemma-network]

  # ë°±ì—”ë“œ
  backend:
    image: chatgemma/backend:latest
    environment:
      - SPRING_PROFILES_ACTIVE=prod
      - DB_URL=jdbc:oracle:thin:@db:1521:XE
    depends_on: [ollama, database]
    networks: [gemma-network]

  # í”„ë¡ íŠ¸ì—”ë“œ
  frontend:
    image: chatgemma/frontend:latest
    ports: ["80:80"]
    depends_on: [backend]
    networks: [gemma-network]

  # ë°ì´í„°ë² ì´ìŠ¤
  database:
    image: container-registry.oracle.com/database/express:21.3.0-xe
    environment:
      - ORACLE_PWD=${DB_PASSWORD}
    volumes:
      - db-data:/opt/oracle/oradata
    networks: [gemma-network]
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ì£¼ìš” ë©”íŠ¸ë¦­

- **ì‘ë‹µ ì‹œê°„**: P50 < 2s, P95 < 5s
- **ê°€ìš©ì„±**: > 99.5%
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰**: < 80%
- **ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰**: < 70%
- **AI ëª¨ë¸ ì²˜ë¦¬ëŸ‰**: > 1 req/sec

### ë¡œê·¸ ëª¨ë‹ˆí„°ë§

```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸
docker-compose logs -f backend

# AI ëª¨ë¸ ë¡œê·¸
docker-compose logs -f ollama

# ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ (admin í•„ìš”)
curl -X GET "http://localhost:8080/api/admin/audit-logs" \
  --cookie "JSESSIONID=${SESSION_ID}"
```

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### í…ŒìŠ¤íŠ¸ ë ˆë²¨

1. **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** (80%+ ì»¤ë²„ë¦¬ì§€)
   - Service Layer ë¡œì§ í…ŒìŠ¤íŠ¸
   - Domain Model ê²€ì¦
   - Utility í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

2. **í†µí•© í…ŒìŠ¤íŠ¸**
   - Repository í…ŒìŠ¤íŠ¸ (DataJpaTest)
   - WebSocket í†µì‹  í…ŒìŠ¤íŠ¸
   - AI ëª¨ë¸ ì—°ë™ í…ŒìŠ¤íŠ¸

3. **E2E í…ŒìŠ¤íŠ¸**
   - ì „ì²´ ì‚¬ìš©ì í”Œë¡œìš° ê²€ì¦
   - ê´€ë¦¬ì ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤
   - ì±„íŒ… ì‹œë‚˜ë¦¬ì˜¤

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./scripts/test-all.sh

# ì»¤ë²„ë¦¬ì§€ ë¦¬í¬íŠ¸ ìƒì„±
./scripts/coverage-report.sh
```

## âš ï¸ ì œì•½ì‚¬í•­ ë° ì£¼ì˜ì‚¬í•­

### ê°œë°œ ì›ì¹™
- âœ… TDD ì² ì €íˆ ì¤€ìˆ˜
- âœ… ì˜¤ë²„ìŠ¤í™ ê¸ˆì§€
- âœ… í…ŒìŠ¤íŠ¸ ìš°íšŒ/í•˜ë“œì½”ë”© ê¸ˆì§€
- âœ… ë¹„ì¦ˆë‹ˆìŠ¤ ë§¥ë½ ì´í•´ ê¸°ë°˜ ê°œë°œ

### ê¸°ìˆ ì  ì œì•½
- Java 17+ í•„ìˆ˜
- React 18+ ì‚¬ìš©
- Oracle 19c í˜¸í™˜ì„± ìœ ì§€
- Gemma ë¼ì´ì„ ìŠ¤ ì¤€ìˆ˜

### ìš´ì˜ ì œì•½
- ì˜¤í”„ë¼ì¸ í™˜ê²½ ì™„ì „ ì§€ì›
- ë³´ì•ˆ ê°ì‚¬ ìš”êµ¬ì‚¬í•­ ì¶©ì¡±
- ê´€ë¦¬ì ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ í•„ìˆ˜

## ğŸ“š ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [Gemma 3n Model Card](https://ai.google.dev/gemma/docs/gemma-3n)
- [Ollama Documentation](https://ollama.com/docs)
- [Spring Boot Reference](https://docs.spring.io/spring-boot/docs/current/reference/html/)
- [React Documentation](https://react.dev/)

### ê°œë°œ ê°€ì´ë“œ
- [Backend ê°œë°œ ê°€ì´ë“œ](./backend/CLAUDE.md)
- [Frontend ê°œë°œ ê°€ì´ë“œ](./frontend/CLAUDE.md)
- [AI Model í†µí•© ê°€ì´ë“œ](./ai-model/CLAUDE.md)

## ğŸ¤ ê¸°ì—¬ ê°€ì´ë“œ

1. ì´ìŠˆ ìƒì„± ë° ë…¼ì˜
2. Feature ë¸Œëœì¹˜ ìƒì„±
3. TDDë¡œ ê°œë°œ (í…ŒìŠ¤íŠ¸ ë¨¼ì €!)
4. Pull Request ìƒì„±
5. ì½”ë“œ ë¦¬ë·° ë° ë¨¸ì§€

---

> ğŸ’¡ **ì‹œì‘ ì „ì—**: ê° ì»´í¬ë„ŒíŠ¸ë³„ CLAUDE.md íŒŒì¼ì„ ë¨¼ì € ì½ì–´ë³´ì„¸ìš”!
> ğŸš€ **ê°œë°œ ì‹œì‘**: `./scripts/setup.sh`ë¡œ í™˜ê²½ì„ êµ¬ì„±í•œ í›„ ì‹œì‘í•˜ì„¸ìš”!